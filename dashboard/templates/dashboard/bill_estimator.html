{% extends "base.html" %}
{%load static %}
{% block title %}Bill Estimator | WattBuddy{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{% block content %}
<div class="sidebar">
  <ul>
    <li><a href="{% url 'recommendations' %}">âœ… Recommendations</a></li>
    <li><a href="{% url 'bill_estimator' %}">ðŸ’¡ Bill Estimator</a></li>
    <li><a href="{% url 'charts' %}">ðŸ“Š Usage Charts</a></li>
    <li><a href="{% url 'ai_insights' %}">ðŸ¤– AI Insights</a></li>
  </ul>
</div>
<center>
<h2>Appliance Bill Estimator</h2>

<form method="POST">
  {% csrf_token %}

  <label>Select Appliance:</label>
  <select name="appliance" required>
    <option value="">-- Select Appliance --</option>
    {% for name, watt in appliances.items %}
    <option value="{{ name }}" {% if selected_appliance == name %}selected{% endif %}>
      {{ name }} ({{ watt }}W)
    </option>
    {% endfor %}
  </select><br><br>

  <label>Hours per Day:</label>
  <input type="number" name="hours" placeholder="Hours per Day"  min="0" max="24" required><br><br>

  <label>Number of Days:</label>
  <input type="number" name="days" value="30" min="1" required><br><br>

  <label>Cost per Unit (â‚¹):</label>
  <input type="number" step="0.1" name="rate" value="7.5" required><br><br>

  <button type="submit">Calculate Bill</button>
</form>

{% if bill %}
<h3>Estimated Bill for {{ selected_appliance }} = â‚¹{{ bill|floatformat:2 }}</h3></center>
{% endif %}
{% endblock %}